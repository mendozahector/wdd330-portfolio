<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../styles/vs2015.min.css">
    <script src="../styles/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <link rel="shortcut icon" href="#" />
    <title>Week 09 | Notes</title>
  </head>
  <body>
    <a href="../index.html">Back to home</a>
    <h1>Week 09</h1>
    <h2>Notes/Questions</h2>
    <h3>The data- Attribute</h3>
    <pre>
    <code>
    data-powers = 'flight superSpeed'
    data-rating = '5' 
    data-dropdown 
    data-user = 'DAZ' 
    data-max-length = '32'

    const superman = document.getElementById('hero');
    const powers = superman.dataset.powers;
    << 'flight superSpeed'

    String to Int:
    const maxLength = Number(element.dataset.maxLength);
    </code>
    </pre>

    <h3>HTML5 Web Storage</h3>
    <pre><code>
    localStorage.name = 'Heisenberg'; 

    console.log(localStorage.name); 
    << "Heisenberg";

    localStorage.removeItem('name');
    delete localStorage.name;
    localStorage.clear();
    </code></pre>

    <h3>GeoLocation</h3>
    <pre><code>
    navigator.geolocation.getCurrentPosition(youAreHere);
    function youAreHere(position) {
      console.log(`Latitude: ${position.coords.latitude}, Longitude: ${position.coords.longitude}`); 
    }
    </code></pre>

    <h3>Websocket</h3>
    <pre><code>
      const URL = 'wss://echo.websocket.org/';
      const outputDiv = document.getElementById('output');
      const form = document.forms[0];
      const connection = new WebSocket(URL);

      connection.addEventListener('open', () => {
        output('CONNECTED');
      }, false);

      function output(message) {
        const para = document.createElement('p');
        para.innerHTML = message;
        outputDiv.appendChild(para);
    }
    form.addEventListener('submit', message, false);
    function message(event) {
      event.preventDefault();
      const text = form.message.value;
      output(`SENT: ${text}`);
      connection.send(text);
    }
    connection.addEventListener('message', (event) => {
      output(`RESPONSE: ${event.data}`);
      }, false);
      connection.addEventListener('close', () => {
        output('DISCONNECTED');
    }, false);

    connection.addEventListener('error', (event) => {
    output(`<span style='color: red;'>ERROR: ${event.data}</span>`);
    }, false);
    </code></pre>
    
    <h3>Notifications</h3>
    <pre><code>
      if(window.Notification) {
        Notification.requestPermission();
    }
    if(window.Notification) {
      Notification.requestPermission()
      .then((permission) => {
          if(Notification.permission === 'granted') {
          new Notification('Hello JavaScript!');
          }
      });
      }
      const notification = new Notification('JavaScript: Novice to Ninja',{
        body: 'The new book from SitePoint',
        icon: 'sitepointlogo.png'
    });
    notification.close();
    </code></pre>

    <h3>Drawing with Canvas</h3>
    <canvas id='canvas' width='250' height='250'>Sorry, but your browser does not support the canvas element</canvas>
    <script>
      const canvasElement = document.getElementById('canvas');
      const context = canvasElement.getContext('2d');

      context.fillStyle = "#0000cc"; // a blue fill color 
      context.strokeStyle = "#ccc"; // a gray stroke color

      context.lineWidth = 4;

      context.fillRect(10,10,100,50);

      context.strokeRect(10,100,100,50);

      context.beginPath();
      context.moveTo(130, 50);
      context.lineTo(180, 50);
      context.moveTo(155, 50);
      context.lineTo(155, 90);
      context.strokeStyle = '#c00';
      context.lineWidth = 15;
      context.stroke();

      context.beginPath();
      context.arc(200, 200, 30, 0, Math.PI * 2, false);
      context.strokeStyle = '#ff0';
      context.lineWidth = 4;
      context.stroke();

      context.fillStyle = '#0c0'; // a blue fill color
      context.font = 'bold 26px sans-serif';
      context.fillText('Hello', 20, 200);
      </script>
    <pre><code>
      const canvasElement = document.getElementById('canvas');
      const context = canvasElement.getContext('2d');

      context.fillStyle = "#0000cc"; // a blue fill color 
      context.strokeStyle = "#ccc"; // a gray stroke color

      context.lineWidth = 4;

      context.fillRect(10,10,100,50);

      context.strokeRect(10,100,100,50);

      context.beginPath();
      context.moveTo(130, 50);
      context.lineTo(180, 50);
      context.moveTo(155, 50);
      context.lineTo(155, 90);
      context.strokeStyle = '#c00';
      context.lineWidth = 15;
      context.stroke();

      context.beginPath();
      context.arc(200, 200, 30, 0, Math.PI * 2, false);
      context.strokeStyle = '#ff0';
      context.lineWidth = 4;
      context.stroke();

      context.fillStyle = '#0c0'; // a blue fill color
      context.font = 'bold 26px sans-serif';
      context.fillText('Hello', 20, 200);
    </code></pre>
  </body>
</html>
